(this.webpackJsonpapp_dgb=this.webpackJsonpapp_dgb||[]).push([[12],{38:function(e,a,t){"use strict";var n=t(12),l=t(13),o=t(15),s=t(14),r=t(0),c=t.n(r),m=t(36),i=t(37),d=(t(42),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={show:!1},e}return Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,a,t){e.show!==this.props.show&&this.setState({show:this.props.show})}},{key:"clickClose",value:function(){this.setState({show:!1}),this.props.close(!1)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"modal-"+(this.props.modal?this.props.modal:"mensagem"),className:"modal",tabIndex:"-1",role:"dialog",style:this.state.show?{display:"block"}:{display:"none"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header",style:"error"===this.props.dados.status?{backgroundColor:"red"}:{backgroundColor:"black"}},c.a.createElement("h5",{className:"modal-title"},c.a.createElement(m.a,{icon:"error"===this.props.dados.status?i.c:i.b})," ","error"===this.props.dados.status?"ERRO":"AVISO"),c.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return e.clickClose()}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("p",null,"object"===typeof this.props.dados.data?JSON.stringify(this.props.dados.data):this.props.dados.data)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.clickClose()}},"Ok")))))}}]),t}(r.Component));a.a=d},40:function(e,a,t){"use strict";var n=t(12),l=t(13),o=t(15),s=t(14),r=t(0),c=t.n(r),m=t(39),i=t.n(m),d=t(36),u=t(37),p=(t(41),t(16)),h=t(38),f=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={showModal:!1,responseData:{}},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"clickLogoff",value:function(e){var a=this;e.preventDefault(),i.a.get("/api/v1/logout").then((function(e){var t=e.data;console.log("logout: ",t),"ok"===t.status?window.location="/":a.setState({responseData:t,showModal:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light navbar-header"},c.a.createElement("div",{className:"container"},c.a.createElement("a",{className:"navbar-brand d-flex align-items-center",href:"/"},c.a.createElement("img",{className:"logo",src:"/assets/images/icon.png",alt:"App DGB"}),"App DGB"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},Object(p.a)("token")?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/perfil"},c.a.createElement(d.a,{icon:u.m})," Meu Perfil")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/cashback"},c.a.createElement(d.a,{icon:u.g})," Meu Cashback")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/compras"},c.a.createElement(d.a,{icon:u.i})," Minhas Compras")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/",onClick:function(a){return e.clickLogoff(a)}},c.a.createElement(d.a,{icon:u.k})," Sair"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/cadastro"},c.a.createElement(d.a,{icon:u.m})," Cadastro")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/login"},c.a.createElement(d.a,{icon:u.j})," Login"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/sobre"},c.a.createElement(d.a,{icon:u.l})," Sobre")))))),c.a.createElement(h.a,{modal:"login",dados:this.state.responseData,show:this.state.showModal,close:function(a){return e.setState({showModal:a,responseData:{}})}}))}}]),t}(r.Component);a.a=f},41:function(e,a,t){},42:function(e,a,t){},44:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);var n=t(12),l=t(13),o=t(15),s=t(14),r=t(0),c=t.n(r),m=t(39),i=t.n(m),d=t(40),u=t(38),p=(t(44),t(36)),h=t(37),f=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={perfil:{},nome:"",senha:"",showModal:!1,responseData:{},save_ok:null},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.get("/api/v1/perfil").then((function(a){var t=a.data;console.log("perfil: ",t),e.setState({perfil:t.data,nome:t.data.nome})})).catch((function(e){console.log(e)}))}},{key:"clickCadastro",value:function(){var e=this;this.state.nome.length>0?(this.setState({save_ok:null}),i.a.post("/api/v1/perfil",{nome:this.state.nome,senha:this.state.senha}).then((function(a){var t=a.data;console.log("perfil: ",t),"ok"===t.status?e.setState({save_ok:"ok"}):e.setState({responseData:t,showModal:!0})})).catch((function(e){console.log(e)}))):this.setState({responseData:{status:"error",data:"Insira todos os dados para alterar o perfil!"},showModal:!0})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null),c.a.createElement("main",{className:"app-form"},c.a.createElement("div",{className:"cotainer"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement(p.a,{icon:h.m})," Cadastro"),c.a.createElement("div",{className:"card-body"},c.a.createElement("form",null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"nome",className:"col-md-4 col-form-label text-md-right"},"Nome Completo"),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"text",id:"nome",className:"form-control",name:"nome",defaultValue:this.state.perfil.nome,onChange:function(a){return e.setState({nome:a.target.value})},required:!0,autoFocus:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"cpf",className:"col-md-4 col-form-label text-md-right"},"CPF"),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("input",{type:"text",name:"cpf",id:"cpf",className:"form-control",defaultValue:this.state.perfil.cpf,disabled:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"email",className:"col-md-4 col-form-label text-md-right"},"Email"),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"email",id:"email",className:"form-control",name:"email",defaultValue:this.state.perfil.email,disabled:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"senha",className:"col-md-4 col-form-label text-md-right"},"Senha"),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("input",{type:"text",id:"senha",className:"form-control",name:"senha",onChange:function(a){return e.setState({senha:a.target.value})},required:!0}))),c.a.createElement("div",{className:"col-md-6 offset-md-4"},c.a.createElement("small",null,"Obs.: deixe em branco caso n\xe3o queira alterar a senha."),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.clickCadastro()}},"Salvar")))),"ok"===this.state.save_ok&&c.a.createElement("div",{className:"card-footer alert-success text-center"},"O perfil foi atualizado com sucesso!")))))),c.a.createElement(u.a,{modal:"login",dados:this.state.responseData,show:this.state.showModal,close:function(a){return e.setState({showModal:a,responseData:{}})}}))}}]),t}(r.Component);a.default=f}}]);
//# sourceMappingURL=12.4ec48ed0.chunk.js.map
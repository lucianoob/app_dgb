(this.webpackJsonpapp_dgb=this.webpackJsonpapp_dgb||[]).push([[8],{38:function(a,e,t){"use strict";var n=t(12),o=t(13),l=t(15),r=t(14),s=t(0),c=t.n(s),i=t(36),m=t(37),d=(t(42),function(a){Object(l.a)(t,a);var e=Object(r.a)(t);function t(){var a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return(a=e.call.apply(e,[this].concat(l))).state={show:!1},a}return Object(o.a)(t,[{key:"componentDidUpdate",value:function(a,e,t){a.show!==this.props.show&&this.setState({show:this.props.show})}},{key:"clickClose",value:function(){this.setState({show:!1}),this.props.close(!1)}},{key:"render",value:function(){var a=this;return c.a.createElement("div",{id:"modal-"+(this.props.modal?this.props.modal:"mensagem"),className:"modal",tabIndex:"-1",role:"dialog",style:this.state.show?{display:"block"}:{display:"none"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header",style:"error"===this.props.dados.status?{backgroundColor:"red"}:{backgroundColor:"black"}},c.a.createElement("h5",{className:"modal-title"},c.a.createElement(i.a,{icon:"error"===this.props.dados.status?m.c:m.b})," ","error"===this.props.dados.status?"ERRO":"AVISO"),c.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return a.clickClose()}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("p",null,"object"===typeof this.props.dados.data?JSON.stringify(this.props.dados.data):this.props.dados.data)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return a.clickClose()}},"Ok")))))}}]),t}(s.Component));e.a=d},40:function(a,e,t){"use strict";var n=t(12),o=t(13),l=t(15),r=t(14),s=t(0),c=t.n(s),i=t(39),m=t.n(i),d=t(36),u=t(37),p=(t(41),t(16)),h=t(38),v=function(a){Object(l.a)(t,a);var e=Object(r.a)(t);function t(){var a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return(a=e.call.apply(e,[this].concat(l))).state={showModal:!1,responseData:{}},a}return Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"clickLogoff",value:function(a){var e=this;a.preventDefault(),m.a.get("/api/v1/logout").then((function(a){var t=a.data;console.log("logout: ",t),"ok"===t.status?window.location="/":e.setState({responseData:t,showModal:!0})})).catch((function(a){console.log(a)}))}},{key:"render",value:function(){var a=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light navbar-header"},c.a.createElement("div",{className:"container"},c.a.createElement("a",{className:"navbar-brand d-flex align-items-center",href:"/"},c.a.createElement("img",{className:"logo",src:"/assets/images/icon.png",alt:"App DGB"}),"App DGB"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},Object(p.a)("token")?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/perfil"},c.a.createElement(d.a,{icon:u.m})," Meu Perfil")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/cashback"},c.a.createElement(d.a,{icon:u.g})," Meu Cashback")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/compras"},c.a.createElement(d.a,{icon:u.i})," Minhas Compras")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/",onClick:function(e){return a.clickLogoff(e)}},c.a.createElement(d.a,{icon:u.k})," Sair"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/cadastro"},c.a.createElement(d.a,{icon:u.m})," Cadastro")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/login"},c.a.createElement(d.a,{icon:u.j})," Login"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"/sobre"},c.a.createElement(d.a,{icon:u.l})," Sobre")))))),c.a.createElement(h.a,{modal:"login",dados:this.state.responseData,show:this.state.showModal,close:function(e){return a.setState({showModal:e,responseData:{}})}}))}}]),t}(s.Component);e.a=v},41:function(a,e,t){},42:function(a,e,t){},81:function(a,e,t){},89:function(a,e,t){"use strict";t.r(e);var n=t(12),o=t(13),l=t(15),r=t(14),s=t(0),c=t.n(s),i=t(45),m=t(39),d=t.n(m),u=t(55),p=t.n(u),h=t(40),v=t(38),f=(t(81),t(36)),g=t(37),E=function(a){Object(l.a)(t,a);var e=Object(r.a)(t);function t(){var a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return(a=e.call.apply(e,[this].concat(l))).state={codigo:"",data:"",valor:0,showModal:!1,responseData:{}},a}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var a=this,e=this.props.match.params;e.id&&d.a.get("/api/v1/compras/"+e.id).then((function(e){var t=e.data;console.log("compra: ",t),a.setState({codigo:t.data.codigo,data:p()(t.data.data).format("YYYY-MM-DD"),valor:t.data.valor.toString().replace(".",",")})})).catch((function(a){console.log(a)}))}},{key:"clickSalvar",value:function(){var a=this;this.state.codigo.length>0&&this.state.data.length>0&&this.state.valor>0?d.a.post("/api/v1/compras",{codigo:this.state.codigo,data:this.state.data,valor:this.state.valor}).then((function(e){var t=e.data;console.log("compras: ",t),"ok"===t.status?window.location="/compras":a.setState({responseData:t,showModal:!0})})).catch((function(a){console.log(a)})):this.setState({responseData:{status:"error",data:"Insira todos os dados da compra!"},showModal:!0})}},{key:"handleChange",value:function(a,e,t){this.setState({valor:t})}},{key:"render",value:function(){var a=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null),c.a.createElement("main",{className:"app-form"},c.a.createElement("div",{className:"cotainer"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement(f.a,{icon:g.i})," Compra"),c.a.createElement("div",{className:"card-body"},c.a.createElement("form",null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"codigo",className:"col-md-4 col-form-label text-md-right"},"C\xf3digo"),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("input",{type:"text",id:"codigo",className:"form-control",name:"codigo",onChange:function(e){return a.setState({codigo:e.target.value})},defaultValue:this.state.codigo,required:!0,autoFocus:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"data",className:"col-md-4 col-form-label text-md-right"},"Data"),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("input",{type:"date",id:"data",className:"form-control",name:"data",max:p()().format("YYYY-MM-DD"),onChange:function(e){return a.setState({data:e.target.value})},defaultValue:this.state.data,required:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{htmlFor:"valor",className:"col-md-4 col-form-label text-md-right"},"Valor"),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(i.a,{prefix:"R$ ",decimalSeparator:",",thousandSeparator:".",decimalScale:"2",allowNegative:!1,id:"valor",className:"form-control",name:"valor",fixedDecimalScale:!0,onValueChange:function(e){return a.setState({valor:e.value})},defaultValue:this.state.valor,required:!0}))),c.a.createElement("div",{className:"col-md-6 offset-md-4"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return a.clickSalvar()}},"Salvar"))))))))),c.a.createElement(v.a,{modal:"login",dados:this.state.responseData,show:this.state.showModal,close:function(e){return a.setState({showModal:e,responseData:{}})}}))}}]),t}(s.Component);e.default=E}}]);
//# sourceMappingURL=8.b1ebf94f.chunk.js.map